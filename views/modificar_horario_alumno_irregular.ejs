<%- include('includes/_nav_alumno.ejs') %>

    <main class="bg-grey mx-4 mb-3 alumno-scroll" style="height: 85%; border-radius: 1.5rem;">
      <!-- header -->
      <div class="mt-4">
        <div class="d-flex align-items-end" style="border-bottom: 3px solid #84251C; width: fit-content; margin-top: -10px;">
          <h1 class="m-0 ms-4">Horario</h1>
          <p class="fs-5 m-0 ms-4 me-3 ivd-text-red">Semestre Agosto - Diciembre 2025</p>
        </div>
      </div>
      <!-- horario y grupos -->
      <div class="d-flex flex-column align-items-center pt-4 w-100">
        <p class="w-100 text-center mb-3">Materias presentadas en negro no pueden ser modificadas</p>
        <div class="rounded-5 mb-4" style="background-color: white; width: 70%; height: 30rem;">
        </div>
        <div class="d-flex justify-content-between mb-4" style="width: 40%;">
          <form action="">
            <button class="rounded-5 px-3 py-1 border ivd-border-red" 
                    style="background-color: white; font-size: 1.1rem;">
                    Cancelar
            </button>
          </form>
          <form action="">
            <button class="rounded-5 px-3 py-1 border-0 ivd-bg-red text-white" 
                    style="font-size: 1.1rem;">
                    Guardar
            </button>
          </form>
        </div>
        <div class="ivd-bg-red w-100" style="height: 2px; margin-left: 12px;"></div>
        <div class="w-100 d-flex align-items-center" style="height: 500px;">
          <div class="w-50 h-100 px-5 py-4 d-flex flex-column align-items-center">
            <p class="w-100 ms-3 fw-semibold" style="font-size: 1.2rem;">Materias Seleccionadas</p>
            <form class="d-flex" role="search" style="width: 100%;">
              <input class="form-control rounded-pill" type="search" 
                  placeholder="Buscar" aria-label="Search"
                  style="background-image:url('/images/search.svg'); color: black;
                  background-repeat:no-repeat;
                  background-position: 1rem center; 
                  padding-left: 3rem; font-size: 1rem;">
            </form>
            <% for (let materia_resultado of materias_resultado) { %>
              <div class="w-100 d-flex flex-column align-items-center rounded-5 mt-3" style="background-color: white;">
                <div class="w-100 d-flex my-2">
                  <div class="d-flex m-0 align-items-center justify-content-center" style="width: 100%; padding-left: 10%;">
                    <p class="m-0 me-3"><%= materia_resultado.hora_inicio %> - <%= materia_resultado.hora_fin %></p>
                    <p class="m-0 ivd-text-red">(<%= materia_resultado.dias.join(', ') %>)</p>
                  </div>
                  <div class="d-flex align-items-center justify-content-end" style="width: 10%;">
                    <% if (materia_resultado.obligatorio === false) { %>
                      <button class="btn btn-sm p-0 d-flex align-items-center justify-content-center me-3" 
                      style="
                        width: 1.3rem;
                        height: 1.3rem;
                        border-radius: 50%;
                        background-color: #84251c;
                        color: white;
                        border: none;
                      ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                          <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                        </svg>
                      </button>
                    <% } %>
                  </div>
                </div>
                <div class="ivd-bg-red w-100" style="height: 1px;"></div>
                <p class="fw-semibold my-3"><%= materia_resultado.materia_nombre %></p>
                <p class="mb-3">
                  Salon 
                  <%= materia_resultado.salon_numero %> | 
                  <%= materia_resultado.profesor_nombre %> 
                  <%= materia_resultado.profesor_primer_apellido %>
                  <%= materia_resultado.profesor_segundo_apellido %>
                </p>
              </div>
            <% } %>
          </div>
          <div style="background-color:lightgrey; width: 3px; height: 80%;"></div>
          <div class="w-50 h-100 px-5 py-4 d-flex flex-column align-items-center">
            <p class="w-100 ms-3 fw-semibold" style="font-size: 1.2rem;">Materias Disponibles</p>
            <div class="w-100 d-flex justify-content-between">
              <div class="dropdown">
                <button id="btnSemestre" class="btn border dropdown-toggle rounded-pill ivd-border-red" 
                        type="button" data-bs-toggle="dropdown" style="background-color: white;">
                    Semestre
                </button>
                <ul class="dropdown-menu">
                  <li class="dropdown-item" data-semestre="semestre">Semestre</li>
                  <li class="dropdown-item" data-semestre="s1">1°ro</li>
                  <li class="dropdown-item" data-semestre="s2">2°nd</li>
                  <li class="dropdown-item" data-semestre="s3">3°ro</li>
                  <li class="dropdown-item" data-semestre="s4">4°to</li>
                  <li class="dropdown-item" data-semestre="s5">5°to</li>
                  <li class="dropdown-item" data-semestre="s6">6°to</li>
                  <li class="dropdown-item" data-semestre="s7">7°mo</li>
                  <li class="dropdown-item" data-semestre="s8">8°vo</li>
                  <li class="dropdown-item" data-semestre="s9">9°no</li>
                </ul>
              </div>
              <form class="d-flex" role="search" style="width: 70%;">
                <input class="form-control rounded-pill" type="search" 
                      placeholder="Buscar Materia" aria-label="Search"
                      style="background-image:url('/images/search.svg'); color: black;
                      background-repeat:no-repeat;
                      background-position: 1rem center; 
                      padding-left: 3rem; font-size: 1rem;">
              </form>
            </div>
            <div id="materiasDisponibles" class="w-100">
              <!-- materias disponibles -->
              <% for (let materia_disponible of materias_disponibles_semestre) { %>
                <div class="w-100 d-flex flex-column align-items-center rounded-5 mt-3" style="background-color: white;">
                  <div class="w-100 d-flex my-2">
                    <div class="d-flex m-0 align-items-center justify-content-center" style="width: 100%; padding-left: 10%;">
                      <p class="m-0 me-3"><%= materia_disponible.hora_inicio %> - <%= materia_disponible.hora_fin %></p>
                      <p class="m-0 ivd-text-red">(<%= materia_disponible.dias.join(', ') %>)</p>
                    </div>
                    <div class="d-flex align-items-center justify-content-end" style="width: 10%;">
                        <button class="btn btn-sm p-0 d-flex align-items-center justify-content-center me-3" 
                        style="
                            width: 1.3rem;
                            height: 1.3rem;
                            border-radius: 50%;
                            background-color: #84251c;
                            color: white;
                            border: none;
                        ">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                            </svg>
                        </button>
                    </div>
                  </div>
                  <div class="ivd-bg-red w-100" style="height: 1px;"></div>
                  <p class="fw-semibold my-3"><%= materia_disponible.materia_nombre %></p>
                  <p class="mb-3">
                    Salon 
                    <%= materia_disponible.salon_numero %> | 
                    <%= materia_disponible.profesor_nombre %> 
                    <%= materia_disponible.profesor_primer_apellido %>
                    <%= materia_disponible.profesor_segundo_apellido %>
                  </p>
                </div>
              <% } %>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/alumno-irregular.js"></script>
</body>
</html>