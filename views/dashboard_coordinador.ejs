<%- include('includes/_nav_coordinador.ejs') %>
<%- include('includes/_header_coordinador.ejs') %>

        <main class="bg-grey flex-grow-1 rounded-5 p-0 d-flex flex-column" style="height: 100vh;">
          <div class="mb-4">
            <h1 class="ms-3 mt-2">Dashboard</h1>
            <div style="border-bottom: 3px solid #84251C; width: 15rem; margin-top: -10px;"></div>

            <% if (msg) { %>
              <div class="modal fade" id="msgModal" tabindex="-1" aria-labelledby="msgModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-sm">
                  <div class="modal-content align-items-center rounded-5">
                    <div class="modal-header border border-0">
                      <h5 class="modal-title ivd-text-red" id="msgModalLabel">Sincronizar Materias</h5>
                    </div>
                    <div class="modal-body bg-grey rounded-5 text-center px-5">
                      <%- msg %>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn ivd-bg-red text-white rounded-5" data-bs-dismiss="modal">Aceptar</button>
                    </div>
                  </div>
                </div>
              </div>
            <% } %>


            
<div class="d-grid gap-2 d-md-flex justify-content-md-end position-relative me-3" style="margin-top: -40px;">
  <form action="/coordinador/ciclo-escolar/sincronizar" method="POST">
      <button class="btn rounded-pill btn-lg ivd-bg-red text-white d-flex align-items-center justify-content-end" 
              type="submit">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16" style="margin-left: -2px">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
              </svg>
          Sincronizar Ciclo Escolar
      </button>
  </form>
</div>
        
    <div class="d-flex flex-wrap justify-content-start" style="gap: 20px;">
        <div class="card rounded-5 ivd-bg-red bg-gradient text-white d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h3 class="card-title ms-3"style="margin-right: 30px;" >Materias Abiertas</h3>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/materias';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
            <div style="border-bottom: 3px solid #ffffff; width: 20rem; margin-top: -7px;"></div>
            <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">40</p>
          </div> 
        </div>
        
        <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h3 class="card-title ms-3"style="margin-right: 40px;" >Grupos Abiertos</h3>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/grupos';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -7px;"></div>
            <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">36</p>
          </div> 
        </div>
        

        <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h3 class="card-title ms-3"style="margin-right: 30px;" >Alumnos Inscritos</h3>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/alumnos';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -7px;"></div>
            <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">100</p>
          </div> 
        </div>



        <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h4 class="card-title ms-3"style="margin-right: 20px;" >Alumnos No Inscritos</h4>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/alumnos';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -3px;"></div>
            <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">20</p>
          </div> 
        </div>
      </div>
          
  <div class="d-flex flex-wrap justify-content-start" style="gap: 20px;">
      <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-center ms-4  " style="max-width: 43rem; margin-top: 20px;">
        <div class="card-body text-start" style="margin-top: -5px;">
          <div class="d-flex align-items-center">
          <h3 class="card-title ms-3" style="margin-right: 300px;">Grupos</h3>
            <div class="dropdown ms-5"style="width: 30px; height: 30px; margin-top: -10px; margin-right: -5px;">
            <button class="btn border dropdown-toggle rounded-pill ivd-border-white bg-grey" style="margin-right: 1px;" type="button" data-bs-toggle="dropdown">
                Día de la semana
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Lunes</a></li>
              <li><a class="dropdown-item" href="#">Martes</a></li>
              <li><a class="dropdown-item" href="#">Miercoles</a></li>
              <li><a class="dropdown-item" href="#">Jueves</a></li>
              <li><a class="dropdown-item" href="#">Viernes</a></li>

            </ul>
        </div>

        </div>
          <div style="border-bottom: 3px solid #84251c98; width: 43rem; margin-top: 0px;"></div>
          <p class="card-text text-center ms-4" style="margin-top: 20px; font-size: 20px;">
            8:00 - 9:00 - Patronaje de prendas <span style="color: #791616;">2°Semestre [1130] [Lun,Jue,Vie]</span>
        </p>
          <div style="border-bottom: 3px solid #84251c98; width: 43rem; margin-top: 0px;"></div>
          <p class="card-text text-center ms-4" style="margin-top: 20px; font-size: 20px;">
            8:00 - 9:00 - Patronaje de prendas <span style="color: #791616;">2°Semestre [1130] [Lun,Jue,Vie]</span>
        </p>
          <div style="border-bottom: 3px solid #84251c98; width: 43rem; margin-top: 0px;"></div>
        </div>
      </div>



        <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px; min-height: 20rem">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h4 class="card-title ms-3"style="margin-right: 40px;" >Salones Asignados</h4>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/salones';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
          <p class="card-text text-start ms-4 scroll"style=" margin-top: -15px; font-size: 4rem;">35</p>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -30px;"></div>
            <p class="card-text text-start ms-4" style="margin-top: 20px; font-size: 20px;">
              8:00 - 9:00 - Patronaje de prendas <span style="color: #791616;">2°Semestre [1130] [Lun,Jue,Vie]</span>
          </p>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: 0px;"></div>

          </div> 
        </div>


        <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
          <div class="card-body text-start" style="margin-top: -5px;">
            <div class="d-flex align-items-center">
            <h3 class="card-title ms-3"style="margin-right: 100px;" >Profesores</h3>
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                    type="button" 
                    onclick="window.location.href='/coordinador/profesores';"
                    style = "width: 30px; height: 30px; margin-top: -10px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                    </svg>
            </button>
          </div>
            <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -7px;"></div>
            <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">100</p>
          </div> 
        </div>
  </div>

  <div class="d-flex flex-wrap justify-content-start" style="gap: 20px;">
    <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-center ms-4  " style="max-width: 43rem; margin-top: 20px;">
      <div class="card-body text-start" style="margin-top: -25px;">
        <div class="d-flex align-items-center">
        <h3 class="card-title ms-3" >Solicitud de cambio de horaio</h3>
        <div class="dropdown"style="width: 30px; height: 30px; margin-top: -10px; margin-right: 5px;"></div>
        <div style="border-bottom: 3px solid #791616b7; width: 11rem; margin-top: -5px;; margin-left: -30px"></div>
          <p style="margin-top: 10px; font-size: 3rem; color: #791616;"> 20</p>
          <div class="dropdown ms-3"style="width: 30px; height: 30px; margin-top: -10px;; margin-right: -5px;">
            <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                type="button" 
                onclick="window.location.href='/coordinador/solicitudes-cambio';"
                style = "width: 30px; height: 30px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                </svg>
        </button>
          
      </div>

      </div>
        <div style="border-bottom: 3px solid #84251c98; width: 43rem; margin-top: -20px;"></div>
      </div> 
    </div>


    <div class="card rounded-5 ivd-bg-white bg-gradient text-black d-flex align-items-center justify-content-end ms-4  " style="max-width: 20rem; margin-top: 20px;">
      <div class="card-body text-start" style="margin-top: -5px;">
        <div class="d-flex align-items-center">
        <h3 class="card-title ms-3"style="margin-right: 100px;" >Profesores</h3>
        
        <button class="ratio ratio-1x1 rounded-circle overflow-hidden" 
                type="button" 
                onclick="window.location.href='/coordinador/alumnos';"
                style = "width: 30px; height: 30px; margin-top: -10px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="black" class="bi bi-arrow-up-right bi-arrow-up-right-sm  " viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 00-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
                </svg>
        </button>
      </div>
        <div style="border-bottom: 3px solid #84251c98; width: 20rem; margin-top: -7px;"></div>
        <p class="card-text text-start ms-4"style="margin-top: 20px; font-size: 4rem;">100</p>
      </div> 
    </div>
</div>






      </div>
        </main>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/coordinador.js"></script>
    <script>
      // Automatically show modal when message exists
      document.addEventListener('DOMContentLoaded', function() {
          const msgModal = document.getElementById('msgModal');
          if (msgModal) {
              const modal = new bootstrap.Modal(msgModal);
              modal.show();
              
              // Optional: Clear URL query after showing modal
              history.replaceState(null, '', window.location.pathname);
          }
      });
  </script>
  </body>
</html>
